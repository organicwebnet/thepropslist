<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Props List — Theater Props Management</title>
    <link rel="icon" type="image/png" href="/logo.png?v=2" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="float beta-banner">
      Beta: The Props List is in open beta — things may change.
    </div>
    <div class="top-gradient"></div>
    <div class="backdrop"></div>
    <div class="container">
      <header>
        <div class="header-brand">
          <img src="/logo.png?v=2" alt="The Props List" class="header-logo" />
          <div class="brand-title">
            <span>The</span>
            <span>Props</span>
            <span>List</span>
          </div>
        </div>
        <nav class="header-nav">
          <a href="/news/">News</a>
          <!--<a href="/propive/">PROPIVE</a>-->
          <!--<a href="https://app.thepropslist.uk/login">Dashboard</a>-->
        </nav>
      </header>

      <section class="hero">
        <div class="wash"></div>
        <div class="scrim"></div>
        <div class="hero-card">
          <div class="hero-content">
            <div class="hero-text">
              <h1>Manage theatre props — share the load with our app</h1>
              <p class="muted">Coming soon. Leave your email to be notified at launch.</p>
              <form id="waitlistForm" class="waitlist-form">
                <input id="wlEmail" type="email" placeholder="you@example.com" required class="form-input" />
                <input id="wlName" type="text" placeholder="Name (optional)" class="form-input form-input--name" />
                <button class="cta" type="submit">Notify me</button>
                <span id="wlMsg" class="muted form-message"></span>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- Public container viewer route -->
      <section id="public-container" class="public-container">
        <div class="card">
          <h2>Container</h2>
          <div id="pc-error" class="muted" style="display:none"></div>
          <div id="pc-loading" class="muted">Loading…</div>
          <div id="pc-content" style="display:none">
            <div id="pc-name" class="pc-name"></div>
            <div id="pc-meta" class="muted pc-meta"></div>
            <div id="pc-props"></div>
            <div id="pc-children" class="pc-children"></div>
            <div id="pc-app-cta" class="pc-app-cta"></div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Free Tools for Prop Makers</h2>
        <!--<div class="card card--featured">
          <h3>PROPIVE — Project Logging</h3>
          <p class="muted">Free project logging tool for prop makers. Track your projects, organize files with Google Drive, and collaborate with your team.</p>
          <a href="/propive/" class="cta">Try PROPIVE</a>
        </div>-->
        
        <h2>Features</h2>
        <p class="muted">iOS & Android. Fast offline-first UX; syncs when back online.</p>
        <div class="grid">
          <div class="card">
            <h2>Shopping list</h2>
            <p class="muted">create a list of products for your shoppers to get options for then select the best options and your shopper can buy it any, links and photos straight from your phone.</p>
            <h3>Designer sign‑off</h3>
            <p class="muted">Submit items for approval. Designers/supervisors approve or request changes in one tap.</p>
            <h3>Auto‑create props</h3>
            <p class="muted">Approved items become new props automatically with images, notes and cost details.</p>
          </div>
          <div class="card">
            <h2>todo list</h2>
            <p class="muted">create a list of tasks to be done.</p>
            <h3>assign tasks to team members</h3>
            <p class="muted">assign tasks to team members and track their progress.</p>
            <h3>
              set deadlines</h3>
            <p class="muted">set deadlines for tasks and track their progress.</p>
          </div>
        </div>
      </section>

      <section class="section section--small">
        <div class="grid">
          <div class="card">
            <h3>Props & Inventory</h3>
            <p class="muted">Track every item with images, locations and status. Export clean PDFs.</p>
          </div>
          <div class="card">
            <h3>Packing, Labels & QR</h3>
            <p class="muted">Generate labels and QR codes. Organize storage and transport with clear icons.</p>
          </div>
          <div class="card">
            <h3>Props Bible</h3>
            <p class="muted">One‑click PDF/print pack — your complete props bible for rehearsals and handover.</p>
          </div>
          <div class="card">
            <h3>Invite your team</h3>
            <p class="muted">Viewers, editors, supervisors and art directors — fine-grained access.</p>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Pricing</h2>
        <div class="pricing-toggle">
          <span class="muted">Billed monthly</span>
          <label class="toggle-label">
            <input id="billingToggle" type="checkbox" class="toggle-input" />
            <span id="toggleSlider" class="toggle-slider"></span>
            <span id="toggleKnob" class="toggle-knob"></span>
          </label>
          <span class="pricing-savings">Billed yearly (save ~10%)</span>
        </div>
        <div class="grid">
          <div class="card card--free">
            <h3>Free</h3>
            <p class="muted">1 show (1 year). 10 props. 2 boards. 20 packing boxes. TPS branded PDFs. 3 teammates.</p>
            <p><b>£0</b></p>
          </div>
          <div class="card card--starter">
            <h3>Starter</h3>
            <p class="muted">3 shows. 50 props. 5 boards. 200 packing boxes. TPS branded PDFs. 5 team members.</p>
            <p id="starterPrice"><b>£9/mo</b> or £90/yr</p>
          </div>
          <div class="card card--standard">
            <h3>Standard</h3>
            <p class="muted">10 shows. 100 props. 20 boards. 1,000 packing boxes. Unbranded PDFs, CSV export. 15 team members.</p>
            <p id="standardPrice"><b>£19/mo</b> or £190/yr</p>
          </div>
          <div class="card card--pro">
            <h3>Pro</h3>
            <p class="muted">100 shows. 1,000 props. 200 boards. 10,000 packing boxes. Unbranded PDFs, CSV export. Priority support. 100 team members.</p>
            <p id="proPrice"><b>£39/mo</b> or £390/yr</p>
          </div>
        </div>
      </section>
    </div>

    <script>
      (function() {
        const toggle = document.getElementById('billingToggle');
        const knob = document.getElementById('toggleKnob');
        const slider = document.getElementById('toggleSlider');
        const monthlyNums = { starter: 9, standard: 19, pro: 39 };
        const prices = {
          monthly: { starter: '£9/mo', standard: '£19/mo', pro: '£39/mo' },
          yearly: { starter: '£90/yr', standard: '£190/yr', pro: '£390/yr' }
        };
        const links = {
          monthly: {
            starter: 'https://buy.stripe.com/test_starter_link_month',
            standard: 'https://buy.stripe.com/test_standard_link_month',
            pro: 'https://buy.stripe.com/test_pro_link_month'
          },
          yearly: {
            starter: 'https://buy.stripe.com/test_starter_link_year',
            standard: 'https://buy.stripe.com/test_standard_link_year',
            pro: 'https://buy.stripe.com/test_pro_link_year'
          }
        };
        
        function setMode(mode){
          if (mode === 'yearly') {
            const yf = {
              starter: monthlyNums.starter * 12,
              standard: monthlyNums.standard * 12,
              pro: monthlyNums.pro * 12
            };
            const yd = {
              starter: Math.round(yf.starter * 0.9),
              standard: Math.round(yf.standard * 0.9),
              pro: Math.round(yf.pro * 0.9)
            };
            document.getElementById('starterPrice').innerHTML = '<span class="line">£'+ yf.starter +'/yr</span> <b>£'+ yd.starter +'/yr</b> <span class="badge">Save 10% yearly</span>';
            document.getElementById('standardPrice').innerHTML = '<span class="line">£'+ yf.standard +'/yr</span> <b>£'+ yd.standard +'/yr</b> <span class="badge">Save 10% yearly</span>';
            document.getElementById('proPrice').innerHTML = '<span class="line">£'+ yf.pro +'/yr</span> <b>£'+ yd.pro +'/yr</b> <span class="badge">Save 10% yearly</span>';
          } else {
            document.getElementById('starterPrice').innerHTML = '<b>' + prices[mode].starter + '</b>';
            document.getElementById('standardPrice').innerHTML = '<b>' + prices[mode].standard + '</b>';
            document.getElementById('proPrice').innerHTML = '<b>' + prices[mode].pro + '</b>';
          }
          const sc = document.getElementById('starterCta');
          const stc = document.getElementById('standardCta');
          const pc = document.getElementById('proCta');
          if (sc) sc.setAttribute('href', links[mode].starter);
          if (stc) stc.setAttribute('href', links[mode].standard);
          if (pc) pc.setAttribute('href', links[mode].pro);
        }
        
        toggle.addEventListener('change', function(){
          const mode = this.checked ? 'yearly' : 'monthly';
          knob.classList.toggle('active', this.checked);
          slider.classList.toggle('active', this.checked);
          setMode(mode);
        });
        setMode('monthly');
      })();
      
      // Waitlist submit
      const form = document.getElementById('waitlistForm');
      form?.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = document.getElementById('wlEmail').value.trim();
        const name = document.getElementById('wlName').value.trim();
        const msg = document.getElementById('wlMsg');
        msg.textContent = 'Sending...';
        try {
          const res = await fetch('https://us-central1-props-bible-app-1c1cb.cloudfunctions.net/joinWaitlist', {
            method: 'POST', 
            headers: { 'Content-Type': 'application/json' }, 
            body: JSON.stringify({ email, name })
          });
          const json = await res.json();
          msg.textContent = json.ok ? 'Thanks! We will be in touch.' : 'Error. Please try again.';
        } catch(err) {
          msg.textContent = 'Error. Please try again.';
        }
      });
    </script>

    <script>
      (function(){
        // Simple router for /c/:id path on marketing site
        var path = window.location.pathname || '';
        var match = path.match(/^\/c\/([A-Za-z0-9_-]+)/);
        if (!match) return;
        var containerRaw = match[1];
        var containerId = (containerRaw || '').toString();
        var containerCode = containerId.toUpperCase();
        
        // Show the public container section and hide marketing hero
        document.title = 'Container';
        var pc = document.querySelector('#public-container');
        pc.style.display = 'block';
        var hide = function(sel){ var el = document.querySelector(sel); if (el) el.style.display = 'none'; };
        hide('.hero');
        hide('.backdrop');
        hide('.top-gradient');
        hide('.float');
        
        // Hide all other sections except the public-container block
        Array.prototype.forEach.call(document.querySelectorAll('section'), function(s){
          if (s.id !== 'public-container') s.style.display = 'none';
        });
        
        var loading = document.getElementById('pc-loading');
        var errorEl = document.getElementById('pc-error');
        var content = document.getElementById('pc-content');
        var nameEl = document.getElementById('pc-name');
        var metaEl = document.getElementById('pc-meta');
        var propsEl = document.getElementById('pc-props');
        var ctaEl = document.getElementById('pc-app-cta');

        // If user is logged in on app domain, redirect there for richer view
        try {
          var appUrl = 'https://app.thepropslist.uk/c/' + containerId;
          // Best-effort check: if localStorage key from app exists, redirect
          if (localStorage.getItem('tps-app-session')) {
            window.location.replace(appUrl);
            return;
          }
        } catch (e) {}

        // Try Cloud Function first; if 404, fallback to Firestore REST with narrow query
        fetch('https://us-central1-props-bible-app-1c1cb.cloudfunctions.net/publicContainerInfo?id=' + encodeURIComponent(containerId))
          .then(function(r){ if (!r.ok) throw new Error('Not found'); return r.json(); })
          .then(function(data){
            loading.style.display = 'none';
            content.style.display = 'block';
            nameEl.textContent = data.name || ('Container ' + containerId);
            var childCount = Array.isArray(data.children) ? data.children.length : 0;
            var itemCount = Array.isArray(data.publicProps) && data.publicProps.length
              ? data.publicProps.reduce(function(s,p){ return s + (p.quantity || 1); }, 0)
              : (typeof data.propCount === 'number' ? data.propCount : 0);
            var metaBits = [];
            if (data.status) metaBits.push(data.status);
            if (itemCount) metaBits.push(itemCount + ' items');
            if (childCount) metaBits.push(childCount + ' containers');
            metaEl.textContent = metaBits.join(' · ');
            
            // Prefer explicit publicProps with images
            if (Array.isArray(data.publicProps) && data.publicProps.length) {
              var grid = document.createElement('div');
              grid.style.display = 'grid';
              grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(140px, 1fr))';
              grid.style.gap = '12px';
              data.publicProps.forEach(function(p){
                var card = document.createElement('div');
                card.className = 'card';
                card.style.padding = '8px';
                var img = document.createElement('img');
                img.alt = p.name || 'Prop';
                img.loading = 'lazy';
                img.style.width = '100%';
                img.style.height = '120px';
                img.style.objectFit = 'cover';
                if (p.imageUrl) { 
                  img.src = p.imageUrl; 
                } else { 
                  img.src = 'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23111827"/><text x="50%" y="50%" fill="%239ca3af" dominant-baseline="middle" text-anchor="middle" font-size="14">No image</text></svg>'; 
                }
                img.onerror = function(){ 
                  this.src='data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23111827"/><text x="50%" y="50%" fill="%239ca3af" dominant-baseline="middle" text-anchor="middle" font-size="14">Image unavailable</text></svg>'; 
                };
                img.style.cursor = 'zoom-in';
                img.addEventListener('click', function(){
                  var overlay = document.createElement('div');
                  overlay.style.position = 'fixed'; 
                  overlay.style.inset = '0'; 
                  overlay.style.background = 'rgba(0,0,0,.85)'; 
                  overlay.style.display = 'flex'; 
                  overlay.style.alignItems = 'center'; 
                  overlay.style.justifyContent = 'center'; 
                  overlay.style.zIndex = '50';
                  var big = document.createElement('img'); 
                  big.src = img.src; 
                  big.alt = img.alt; 
                  big.style.maxWidth = '92%'; 
                  big.style.maxHeight = '92%'; 
                  big.style.objectFit = 'contain'; 
                  big.style.boxShadow = '0 10px 30px rgba(0,0,0,.5)';
                  overlay.appendChild(big);
                  overlay.addEventListener('click', function(){ document.body.removeChild(overlay); });
                  document.body.appendChild(overlay);
                });
                var caption = document.createElement('div');
                caption.style.fontSize = '13px';
                caption.style.marginTop = '6px';
                caption.style.color = 'var(--muted)';
                caption.textContent = (p.name || 'Prop') + (p.quantity ? (' × ' + p.quantity) : '');
                if (p.imageUrl) card.appendChild(img);
                card.appendChild(caption);
                grid.appendChild(card);
              });
              propsEl.appendChild(grid);
              
              // Children list
              if (Array.isArray(data.children) && data.children.length) {
                var ch = document.getElementById('pc-children');
                var title = document.createElement('div'); 
                title.textContent = 'Contains'; 
                title.style.fontWeight = '700'; 
                title.style.margin = '12px 0 6px';
                ch.appendChild(title);
                var ul = document.createElement('ul'); 
                ul.style.listStyle='none'; 
                ul.style.padding='0'; 
                ul.style.margin='0';
                data.children.forEach(function(c){
                  var li=document.createElement('li'); 
                  li.className='muted'; 
                  li.style.padding='4px 0';
                  var code = c.code ? (' ('+c.code+')') : '';
                  var a=document.createElement('a'); 
                  a.href = '/c/' + encodeURIComponent(c.code || c.id); 
                  a.textContent = (c.name || c.id) + code; 
                  a.style.color='var(--text)';
                  li.appendChild(a); 
                  ul.appendChild(li);
                });
                ch.appendChild(ul);
              }
            } else if (Array.isArray(data.props) && data.props.length) {
              var list = document.createElement('ul');
              list.style.listStyle = 'none'; 
              list.style.padding = '0'; 
              list.style.margin = '0';
              data.props.forEach(function(p){
                var li = document.createElement('li');
                li.className = 'muted';
                li.style.padding = '6px 0';
                li.textContent = (p.name || 'Prop') + (p.quantity ? (' × ' + p.quantity) : '');
                list.appendChild(li);
              });
              propsEl.appendChild(list);
            } else {
              propsEl.innerHTML = '<div class="muted">No public item details.</div>';
            }
            var link = document.createElement('a');
            link.href = 'https://app.thepropslist.uk/login?next=' + encodeURIComponent('/c/' + containerId);
            link.className = 'cta';
            link.textContent = 'Open in app';
            ctaEl.appendChild(link);
          })
          .catch(function(){
            // Fallback: fetch from Firestore REST packingBoxes by code==containerId or id
            var apiKey = 'AIzaSyDDdMvYxnBpCmlWW-I-S96lxWknJWDaV98';
            var project = 'props-bible-app-1c1cb';
            function runQuery(field, value) {
              var url = 'https://firestore.googleapis.com/v1/projects/' + project + '/databases/(default)/documents:runQuery?key=' + apiKey;
              var body = {
                structuredQuery: {
                  from: [{ collectionId: 'packingBoxes' }],
                  where: {
                    compositeFilter: {
                      op: 'AND',
                      filters: [
                        { fieldFilter: { field: { fieldPath: field }, op: 'EQUAL', value: { stringValue: value } } },
                        { fieldFilter: { field: { fieldPath: 'publicReadable' }, op: 'EQUAL', value: { booleanValue: true } } }
                      ]
                    }
                  },
                  limit: 1
                }
              };
              return fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body) })
                .then(function(r){ return r.json(); })
                .then(function(rows){ return (rows || []).find(function(x){ return x && x.document; }); });
            }
            function runChildren(parentId) {
              var url = 'https://firestore.googleapis.com/v1/projects/' + project + '/databases/(default)/documents:runQuery?key=' + apiKey;
              var body = {
                structuredQuery: {
                  from: [{ collectionId: 'packingBoxes' }],
                  where: {
                    compositeFilter: {
                      op: 'AND',
                      filters: [
                        { fieldFilter: { field: { fieldPath: 'parentId' }, op: 'EQUAL', value: { stringValue: parentId } } },
                        { fieldFilter: { field: { fieldPath: 'publicReadable' }, op: 'EQUAL', value: { booleanValue: true } } }
                      ]
                    }
                  },
                  limit: 100
                }
              };
              return fetch(url, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(body) })
                .then(function(r){ return r.json(); })
                .then(function(rows){ return (rows || []).filter(function(x){ return x && x.document; }); });
            }
            // Try multiple fields and case variants
            runQuery('code', containerId)
              .then(function(doc){ return doc ? doc : runQuery('code', containerCode); })
              .then(function(doc){ return doc ? doc : runQuery('shortCode', containerId); })
              .then(function(doc){ return doc ? doc : runQuery('shortCode', containerCode); })
              .then(function(doc){ return doc ? doc : runQuery('id', containerId); })
              .then(function(doc){ return doc ? doc : runQuery('name', containerId); })
              .then(function(doc){
                if (!doc) throw new Error('not-found');
                var f = doc.document.fields || {};
                var name = (f.name && f.name.stringValue) || containerId;
                loading.style.display = 'none';
                content.style.display = 'block';
                nameEl.textContent = name;
                // Render publicProps grid if present on the doc
                var publicProps = [];
                var childrenDocs = [];
                try {
                  var arr = (f.publicProps && f.publicProps.arrayValue && f.publicProps.arrayValue.values) || [];
                  if (arr.length) {
                    var grid = document.createElement('div');
                    grid.style.display = 'grid';
                    grid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(140px, 1fr))';
                    grid.style.gap = '12px';
                    arr.forEach(function(v){
                      var m = v.mapValue && v.mapValue.fields || {};
                      var p = {
                        name: (m.name && m.name.stringValue) || '',
                        quantity: (m.quantity && (m.quantity.integerValue || m.quantity.doubleValue)) ? Number(m.quantity.integerValue || m.quantity.doubleValue) : undefined,
                        imageUrl: (m.imageUrl && m.imageUrl.stringValue) || ''
                      };
                      publicProps.push(p);
                      var card = document.createElement('div');
                      card.className = 'card';
                      card.style.padding = '8px';
                      var img = document.createElement('img');
                      img.alt = p.name || 'Prop';
                      img.loading = 'lazy';
                      img.style.width = '100%';
                      img.style.height = '120px';
                      img.style.objectFit = 'cover';
                      if (p.imageUrl) { 
                        img.src = p.imageUrl; 
                      } else { 
                        img.src = 'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23111827"/><text x="50%" y="50%" fill="%239ca3af" dominant-baseline="middle" text-anchor="middle" font-size="14">No image</text></svg>'; 
                      }
                      img.onerror = function(){ 
                        this.src='data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="300" height="200"><rect width="100%" height="100%" fill="%23111827"/><text x="50%" y="50%" fill="%239ca3af" dominant-baseline="middle" text-anchor="middle" font-size="14">Image unavailable</text></svg>'; 
                      };
                      img.style.cursor = 'zoom-in';
                      img.addEventListener('click', function(){
                        var overlay = document.createElement('div');
                        overlay.style.position = 'fixed'; 
                        overlay.style.inset = '0'; 
                        overlay.style.background = 'rgba(0,0,0,.85)'; 
                        overlay.style.display = 'flex'; 
                        overlay.style.alignItems = 'center'; 
                        overlay.style.justifyContent = 'center'; 
                        overlay.style.zIndex = '50';
                        var big = document.createElement('img'); 
                        big.src = img.src; 
                        big.alt = img.alt; 
                        big.style.maxWidth = '92%'; 
                        big.style.maxHeight = '92%'; 
                        big.style.objectFit = 'contain'; 
                        big.style.boxShadow = '0 10px 30px rgba(0,0,0,.5)';
                        overlay.appendChild(big);
                        overlay.addEventListener('click', function(){ document.body.removeChild(overlay); });
                        document.body.appendChild(overlay);
                      });
                      var caption = document.createElement('div');
                      caption.style.fontSize = '13px';
                      caption.style.marginTop = '6px';
                      caption.style.color = 'var(--muted)';
                      caption.textContent = (p.name || 'Prop') + (p.quantity ? (' × ' + p.quantity) : '');
                      if (p.imageUrl) card.appendChild(img);
                      card.appendChild(caption);
                      grid.appendChild(card);
                    });
                    propsEl.innerHTML = '';
                    propsEl.appendChild(grid);
                  } else {
                    propsEl.innerHTML = '<div class="muted">(Details require app login)</div>';
                  }
                } catch (e) {
                  propsEl.innerHTML = '<div class="muted">(Details require app login)</div>';
                }
                // Children via REST
                var ch = document.getElementById('pc-children');
                runChildren(doc.document.name.split('/').pop())
                  .then(function(children){
                    if (!children || !children.length) return;
                    var title = document.createElement('div'); 
                    title.textContent = 'Contains'; 
                    title.style.fontWeight = '700'; 
                    title.style.margin = '12px 0 6px';
                    ch.appendChild(title);
                    var ul = document.createElement('ul'); 
                    ul.style.listStyle='none'; 
                    ul.style.padding='0'; 
                    ul.style.margin='0';
                    children.forEach(function(entry){
                      var fields = entry.document.fields || {};
                      var id = entry.document.name.split('/').pop();
                      var code = (fields.code && fields.code.stringValue) || (fields.shortCode && fields.shortCode.stringValue) || '';
                      var nameC = (fields.name && fields.name.stringValue) || id;
                      var li=document.createElement('li'); 
                      li.className='muted'; 
                      li.style.padding='4px 0';
                      var a=document.createElement('a'); 
                      a.href = '/c/' + encodeURIComponent(code || id); 
                      a.textContent = nameC + (code?(' ('+code+')'):''); 
                      a.style.color='var(--text)';
                      li.appendChild(a); 
                      ul.appendChild(li);
                    });
                    ch.appendChild(ul);
                  })
                  .catch(function(){});
                // Totals meta
                var qty = publicProps.length ? publicProps.reduce(function(s,p){ return s + (p.quantity || 1); }, 0) : 0;
                var bits = [];
                if (qty) bits.push(qty + ' items');
                metaEl.textContent = bits.join(' · ');
                var link = document.createElement('a');
                link.href = 'https://app.thepropslist.uk/login?next=' + encodeURIComponent('/c/' + containerId);
                link.className = 'cta';
                link.textContent = 'Open in app';
                ctaEl.appendChild(link);
              })
              .catch(function(){
                loading.style.display = 'none';
                errorEl.style.display = 'block';
                errorEl.textContent = 'Container not found or not public (' + containerId + ').';
              });
          });
      })();
    </script>
  </body>
</html>